#!/usr/bin/env bash
# This script installs Nginx, configures it to listen on port 80, and serves a page containing "Holberton School for the win!"

# Update the package list and install Nginx
sudo apt-get update -y
sudo apt-get install nginx -y

# Ensure Nginx is started
sudo service nginx start

# Create the HTML file with the required content
echo "Holberton School for the win!" | sudo tee /var/www/html/index.html > /dev/null

# Reload Nginx to apply any changes (without using systemctl)
sudo nginx -s reload

# Verify that Nginx is serving the correct content on the root page
curl -s http://localhost | grep "Holberton School for the win!" || { echo "Error: Nginx is not serving the correct page."; exit 1; }

echo "Nginx is successfully installed and serving the correct page on port 80."
